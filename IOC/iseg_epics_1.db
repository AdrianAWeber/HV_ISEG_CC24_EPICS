#######################################################################
# ###                                                             ### #
# ### EPICS Database for                                          ### #
# ###   iseg HAL                                                  ### #
# ###                                                             ### #
# ### author: J. Roemer, F.Feldbauer                              ### #
# ###                                                             ### #
# ### Ref 1.0; 2015-06-02                                         ### #
# ###                                                             ### #
# ### macros: CONTROLLER_SN    serial number of crate controller  ### #
# ###         CAN_LINE    CAN line ID                             ### #
# ###         CRATE_ID    crate address                           ### #
# ###         MODULE_ID   module address                          ### #
# ###         CHANNEL_ID  HV channel address                      ### #
#######################################################################


#######################################################################
# ###  								  ### #
# ###  Code adopted to HADES RICH by Adrian Weber                 ### #
# ###                                                             ### #
#######################################################################


###############################
# ### CAN_System item values ##
###############################

record( stringin, "${DEV}:Status" ) {
  field( DTYP, "isegHAL" )
  field( INP,  "@Status can0" )	
  field( FLNK, "${DEV}:BitRate" )
  field( TSE,  "-2" )
  alias( "${ISEG}:Status" )
}
alias( "${DEV}:Status" , "${ISEG}:Status" )


record( longin, "${DEV}:BitRate" ) {
  field( DTYP, "isegHAL" )
  field( INP,  "@BitRate can0" )
  field( TSE,  "-2" )
  alias( "${ISEG}:BitRate" )
}
alias( "${DEV}:BitRate" , "${ISEG}:BitRate" )


record( longin, "${DEV}:ModuleNumber" ) {
  field( DTYP, "isegHAL" )
  field( INP,  "@ModuleNumber can0" )
  field( FLNK, "${DEV}:CrateNumber" )
  field( TSE,  "-2" )
  alias( "${ISEG}:ModuleNumber" )
}
alias( "${DEV}:ModuleNumber" , "${ISEG}:ModuleNumber" )


record( longin, "${DEV}:CrateNumber" ) {
  field( DTYP, "isegHAL" )
  field( INP,  "@CrateNumber can0" )
  field( FLNK, "${DEV}:CrateList" )
  field( TSE,  "-2" )
  alias( "${ISEG}:ModuleNumber" )
}
alias( "${DEV}:CrateNumber" , "${ISEG}:CrateNumber" )


record( stringin, "${DEV}:CrateList" ) {
  field( DTYP, "isegHAL" )
  field( INP,  "@CrateList can0" )
  field( FLNK, "${DEV}:CycleCounter" )
  field( TSE,  "-2" )
  alias( "${ISEG}:CrateList" )
}
alias( "${DEV}:CrateList" , "${ISEG}:CrateList" )


record( longin, "${DEV}:CycleCounter" ) {
  field( DTYP, "isegHAL" )
  field( INP,  "@CycleCounter can0" )
  field( TSE,  "-2" )
  alias( "${ISEG}:CycleCounter" )
}
alias( "${DEV}:CycleCounter" , "${ISEG}:CycleCounter" )

#############################
# ### CAN_Line item values ##
#############################

record( stringin, "${DEV}:${CAN_LINE}:Status" ) {
  field( DTYP, "isegHAL" )
  field( INP,  "@${CAN_LINE}.Status can0" )
  field( FLNK, "${DEV}:${CAN_LINE}:BitRate" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:Status" )
}
alias( "${DEV}:${CAN_LINE}:Status" , "${ISEG}:${CAN_LINE}:Status" )


record( longin, "${DEV}:${CAN_LINE}:BitRate" ) {
  field( DTYP, "isegHAL" )
  field( INP,  "@${CAN_LINE}.BitRate can0" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:BitRate" )
}
alias( "${DEV}:${CAN_LINE}:BitRate" , "${ISEG}:${CAN_LINE}:BitRate" )

record( longin, "${DEV}:${CAN_LINE}:ModuleNumber" ) {
  field( DTYP, "isegHAL" )
  field( INP,  "@${CAN_LINE}.ModuleNumber can0" )
  field( FLNK, "${DEV}:${CAN_LINE}:ModuleList" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:ModuleNumber" )
}
alias( "${DEV}:${CAN_LINE}:ModuleNumber" , "${ISEG}:${CAN_LINE}:ModuleNumber" )

record( stringin, "${DEV}:${CAN_LINE}:ModuleList" ) {
  field( DTYP, "isegHAL" )
  field( INP,  "@${CAN_LINE}.ModuleList can0" )
  field( FLNK, "${DEV}:${CAN_LINE}:CrateNumber" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:ModuleList" )
}
alias( "${DEV}:${CAN_LINE}:ModuleList" , "${ISEG}:${CAN_LINE}:ModuleList" )

record( longin, "${DEV}:${CAN_LINE}:CrateNumber" ) {
  field( DTYP, "isegHAL" )
  field( INP,  "@${CAN_LINE}.CrateNumber can0" )
  field( FLNK, "${DEV}:${CAN_LINE}:CrateList" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:CrateNumber" )
}
alias( "${DEV}:${CAN_LINE}:CrateNumber" , "${ISEG}:${CAN_LINE}:CrateNumber" )

record( stringin, "${DEV}:${CAN_LINE}:CrateList" ) {
  field( DTYP, "isegHAL" )
  field( INP,  "@${CAN_LINE}.CrateList can0" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:CrateList" )
}
alias( "${DEV}:${CAN_LINE}:CrateList" , "${ISEG}:${CAN_LINE}:CrateList" )

#############################
# ### Crate item values ### #
#############################

record( mbbiDirect, "${DEV}:${CAN_LINE}:${DEVICE_ID}:StatusLow" ) {
  field( DESC, "Lower 16 bit of module status register" )
  field( DTYP, "isegHAL" )
  field( INP,  "@${CAN_LINE}.${DEVICE_ID}.Status can0" )
  field( NOBT, "16" )
  field( SHFT, "0" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${DEVICE_ID}:StatusLow" )
}
alias( "${DEV}:${CAN_LINE}:${DEVICE_ID}:StatusLow" , "${ISEG}:${CAN_LINE}:${DEVICE_ID}:StatusLow" )


record( mbbiDirect, "${DEV}:${CAN_LINE}:${DEVICE_ID}:StatusHigh" ) {
  field( DESC, "Upper 16 bit of module status register" )
  field( DTYP, "isegHAL" )
  field( INP,  "@${CAN_LINE}.${DEVICE_ID}.Status can0" )
  field( NOBT, "16" )
  field( SHFT, "16" )  ## shift the value by 16 bits to the right
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${DEVICE_ID}:StatusHigh" )
}
alias( "${DEV}:${CAN_LINE}:${DEVICE_ID}:StatusHigh" , "${ISEG}:${CAN_LINE}:${DEVICE_ID}:StatusHigh" )


record( mbbiDirect, "${DEV}:${CAN_LINE}:${DEVICE_ID}:EventStatusLow" ) {
  field( DTYP, "isegHAL" )
  field( INP,  "@${CAN_LINE}.${DEVICE_ID}.EventStatus can0" )
  field( NOBT, "16" )
  field( SHFT, "0" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${DEVICE_ID}:EventStatusLow" )
}
alias( "${DEV}:${CAN_LINE}:${DEVICE_ID}:EventStatusLow" , "${ISEG}:${CAN_LINE}:${DEVICE_ID}:EventStatusLow" )


record( mbbiDirect, "${DEV}:${CAN_LINE}:${DEVICE_ID}:EventStatusHigh" ) {
  field( DTYP, "isegHAL" )
  field( INP,  "@${CAN_LINE}.${DEVICE_ID}.EventStatus can0" )
  field( NOBT, "16" )
  field( SHFT, "16" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${DEVICE_ID}:EventStatusHigh" )
}
alias( "${DEV}:${CAN_LINE}:${DEVICE_ID}:EventStatusHigh" , "${ISEG}:${CAN_LINE}:${DEVICE_ID}:EventStatusHigh" )


record( longout, "${DEV}:${CAN_LINE}:${DEVICE_ID}:EventMask" ) {
  field( DTYP, "isegHAL" )
  field( OUT,  "@${CAN_LINE}.${DEVICE_ID}.EventMask can0" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${DEVICE_ID}:EventMask" )
}
alias( "${DEV}:${CAN_LINE}:${DEVICE_ID}:EventMask" , "${ISEG}:${CAN_LINE}:${DEVICE_ID}:EventMask" )


record( ai, "${DEV}:${CAN_LINE}:${DEVICE_ID}:FanSpeed" ) {
  field( SCAN, "1 second")
  field( DTYP, "isegHAL" )
  field( INP,  "@${CAN_LINE}.${DEVICE_ID}.FanSpeed can0" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${DEVICE_ID}:FanSpeed" )
}
alias( "${DEV}:${CAN_LINE}:${DEVICE_ID}:FanSpeed" , "${ISEG}:${CAN_LINE}:${DEVICE_ID}:FanSpeed" )


record( bo, "${DEV}:${CAN_LINE}:${DEVICE_ID}:Control:0" ) {
  field( DTYP, "isegHAL" )
  field( OUT,  "@${CAN_LINE}.${DEVICE_ID}.Control:0 can0" )
  field( ZNAM, "" )
  field( ONAM, "doClear" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${DEVICE_ID}:Control:0" )
}
alias( "${DEV}:${CAN_LINE}:${DEVICE_ID}:Control:0" , "${ISEG}:${CAN_LINE}:${DEVICE_ID}:Control:0" )


record( longin, "${DEV}:${CAN_LINE}:${DEVICE_ID}:SerialNumber" ) {
  field( DTYP, "isegHAL" )
  field( INP,  "@${CAN_LINE}.${DEVICE_ID}.SerialNumber can0" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${DEVICE_ID}:SerialNumber" )
}
alias( "${DEV}:${CAN_LINE}:${DEVICE_ID}:SerialNumber" , "${ISEG}:${CAN_LINE}:${DEVICE_ID}:SerialNumber" )


record( bo, "${DEV}:${CAN_LINE}:${DEVICE_ID}:PowerOn" ) {
  field( DTYP, "isegHAL" )
  field( OUT,  "@${CAN_LINE}.${DEVICE_ID}.PowerOn can0" )
  field( TSE,  "-2" )
  field( ZNAM, "Off" )
  field( ONAM, "On" )
  alias( "${ISEG}:${CAN_LINE}:${DEVICE_ID}:PowerOn" )
}
alias( "${DEV}:${CAN_LINE}:${DEVICE_ID}:PowerOn" , "${ISEG}:${CAN_LINE}:${DEVICE_ID}:PowerOn" )


record( stringin, "${DEV}:${CAN_LINE}:${DEVICE_ID}:FirmwareRelease" ) {
  field( DTYP, "isegHAL" )
  field( INP,  "@${CAN_LINE}.${DEVICE_ID}.FirmwareRelease can0" )
  field( FLNK, "${DEV}:${CAN_LINE}:${DEVICE_ID}:FirmwareName" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${DEVICE_ID}:FirmwareRelease" )
}
alias( "${DEV}:${CAN_LINE}:${DEVICE_ID}:FirmwareRelease" , "${ISEG}:${CAN_LINE}:${DEVICE_ID}:FirmwareRelease" )


record( stringin, "${DEV}:${CAN_LINE}:${DEVICE_ID}:FirmwareName" ) {
  field( DTYP, "isegHAL" )
  field( INP,  "@${CAN_LINE}.${DEVICE_ID}.FirmwareName can0" )
  field( FLNK, "${DEV}:${CAN_LINE}:${DEVICE_ID}:Article" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${DEVICE_ID}:FirmwareName" )
}
alias( "${DEV}:${CAN_LINE}:${DEVICE_ID}:FirmwareName" , "${ISEG}:${CAN_LINE}:${DEVICE_ID}:FirmwareName" )


record( stringin, "${DEV}:${CAN_LINE}:${DEVICE_ID}:Article" ) {
  field( DTYP, "isegHAL" )
  field( INP,  "@${CAN_LINE}.${DEVICE_ID}.Article can0" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${DEVICE_ID}:Article" )
}
alias( "${DEV}:${CAN_LINE}:${DEVICE_ID}:Article" , "${ISEG}:${CAN_LINE}:${DEVICE_ID}:Article" )



##############################
# ### Module item values ### #
##############################

record( mbbiDirect, "${DEV}:${CAN_LINE}:${MODULE_ID}:Status" ) {
  field( DESC, "Lower 16 bit of module status register" )
  field( SCAN, "1 second" )
  field( DTYP, "isegHAL" )
  field( DISV, "0" )  ## Disable Value (if value linked by SDIS == DISV record is disabled)
  field( SDIS, "${DEV}:${CAN_LINE}:${DEVICE_ID}:PowerOn" )
  field( INP,  "@${CAN_LINE}.${MODULE_ID}.Status can0" )
  field( FLNK, "${DEV}:${CAN_LINE}:${MODULE_ID}:EventStatus" ) ## Build read out chains
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:Status" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:Status" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:Status" )


record( mbbiDirect, "${DEV}:${CAN_LINE}:${MODULE_ID}:EventStatus" ) {
  field( DTYP, "isegHAL" )
  field( INP,  "@${CAN_LINE}.${MODULE_ID}.EventStatus can0" )
  field( FLNK, "${DEV}:${CAN_LINE}:${MODULE_ID}:EventMask" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:EventStatus" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:EventStatus" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:EventStatus" )


record( longout, "${DEV}:${CAN_LINE}:${MODULE_ID}:EventMask" ) {
  field( DTYP, "isegHAL" )
  field( OUT,  "@${CAN_LINE}.${MODULE_ID}.EventMask can0" )
  field( FLNK, "${DEV}:${CAN_LINE}:${MODULE_ID}:Temperature" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:EventMask" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:EventMask" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:EventMask" )


record( bo, "${DEV}:${CAN_LINE}:${MODULE_ID}:Control:doClear" ) {
  field( DTYP, "isegHAL" )
  field( OUT,  "@${CAN_LINE}.${MODULE_ID}.Control:6 can0" )
  field( ZNAM, "" )
  field( ONAM, "doClear" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:Control:doClear" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:Control:doClear" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:Control:doClear" )


record( bo, "${DEV}:${CAN_LINE}:${MODULE_ID}:Control:setFineAdjustment" ) {
  field( DTYP, "isegHAL" )
  field( OUT,  "@${CAN_LINE}.${MODULE_ID}.Control:12 can0" )
  field( ZNAM, "FineAdjustment off" )
  field( ONAM, "FineAdjustment on" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:Control:setFineAdjustment" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:Control:setFineAdjustment" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:Control:setFineAdjustment" )


record( bo, "${DEV}:${CAN_LINE}:${MODULE_ID}:Control:setKillEnable" ) {
  field( DTYP, "isegHAL" )
  field( OUT,  "@${CAN_LINE}.${MODULE_ID}.Control:14 can0" )
  field( ZNAM, "KillEnable off" )
  field( ONAM, "KillEnable on" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:Control:setKillEnable" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:Control:setKillEnable" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:Control:setKillEnable" )


record( ao, "${DEV}:${CAN_LINE}:${MODULE_ID}:VoltageRampSpeed" ) {
  field( DTYP, "isegHAL" )
  field( OUT,  "@${CAN_LINE}.${MODULE_ID}.VoltageRampSpeed can0" )
  field( FLNK, "${DEV}:${CAN_LINE}:${MODULE_ID}:CurrentRampSpeed" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:VoltageRampSpeed" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:VoltageRampSpeed" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:VoltageRampSpeed" )


record( ao, "${DEV}:${CAN_LINE}:${MODULE_ID}:CurrentRampSpeed" ) {
  field( DTYP, "isegHAL" )
  field( OUT,  "@${CAN_LINE}.${MODULE_ID}.CurrentRampSpeed can0" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:CurrentRampSpeed" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:CurrentRampSpeed" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:CurrentRampSpeed" )


record( ai, "${DEV}:${CAN_LINE}:${MODULE_ID}:VoltageLimit" ) {
  field( SCAN, "1 second")
  field( DTYP, "isegHAL" )
  field( INP,  "@${CAN_LINE}.${MODULE_ID}.VoltageLimit can0" )
  field( FLNK, "${DEV}:${CAN_LINE}:${MODULE_ID}:CurrentLimit" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:VoltageLimit" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:VoltageLimit" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:VoltageLimit" )


record( ai, "${DEV}:${CAN_LINE}:${MODULE_ID}:CurrentLimit" ) {
  field( SCAN, "1 second")
  field( DTYP, "isegHAL" )
  field( INP,  "@${CAN_LINE}.${MODULE_ID}.CurrentLimit can0" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:CurrentLimit" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:CurrentLimit" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:CurrentLimit" )


record( ai, "${DEV}:${CAN_LINE}:${MODULE_ID}:Temperature" ) {
  field( SCAN, "1 second")
  field( DTYP, "isegHAL" )
  field( INP,  "@${CAN_LINE}.${MODULE_ID}.Temperature can0" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:EventMask" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:EventMask" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:EventMask" )


record( longin, "${DEV}:${CAN_LINE}:${MODULE_ID}:SerialNumber" ) {
  field( DTYP, "isegHAL" )
  field( INP,  "@${CAN_LINE}.${MODULE_ID}.SerialNumber can0" )
  field( FLNK, "${DEV}:${CAN_LINE}:${MODULE_ID}:ChannelNumber" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:SerialNumber" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:SerialNumber" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:SerialNumber" )


record( longin, "${DEV}:${CAN_LINE}:${MODULE_ID}:ChannelNumber" ) {
  field( DTYP, "isegHAL" )
  field( INP,  "@${CAN_LINE}.${MODULE_ID}.ChannelNumber can0" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:ChannelNumber" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:ChannelNumber" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:ChannelNumber" )


record( longin, "${DEV}:${CAN_LINE}:${MODULE_ID}:SampleRate" ) {
  field( DTYP, "isegHAL" )
  field( SCAN, "1 second")
  field( INP,  "@${CAN_LINE}.${MODULE_ID}.SampleRate can0" )
  field( FLNK, "${DEV}:${CAN_LINE}:${MODULE_ID}:DigitalFilter" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:SampleRate" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:SampleRate" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:SampleRate" )


record( longin, "${DEV}:${CAN_LINE}:${MODULE_ID}:DigitalFilter" ) {
  field( DTYP, "isegHAL" )
  field( SCAN, "1 second")
  field( INP,  "@${CAN_LINE}.${MODULE_ID}.DigitalFilter can0" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:DigitalFilter" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:DigitalFilter" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:DigitalFilter" )


record( stringin, "${DEV}:${CAN_LINE}:${MODULE_ID}:FirmwareRelease" ) {
  field( DTYP, "isegHAL" )
  field( INP,  "@${CAN_LINE}.${MODULE_ID}.FirmwareRelease can0" )
  field( FLNK, "${DEV}:${CAN_LINE}:${MODULE_ID}:FirmwareName" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:FirmwareRelease" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:FirmwareRelease" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:FirmwareRelease" )


record( stringin, "${DEV}:${CAN_LINE}:${MODULE_ID}:FirmwareName" ) {
  field( DTYP, "isegHAL" )
  field( INP,  "@${CAN_LINE}.${MODULE_ID}.FirmwareName can0" )
  field( FLNK, "${DEV}:${CAN_LINE}:${MODULE_ID}:Article" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:FirmwareName" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:FirmwareName" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:FirmwareName" )


record( stringin, "${DEV}:${CAN_LINE}:${MODULE_ID}:Article" ) {
  field( DTYP, "isegHAL" )
  field( INP,  "@${CAN_LINE}.${MODULE_ID}.Article can0" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:Article" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:Article" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:Article" )


#####################################
# ### Decoding of Module Status ### #
#####################################

record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:isAdjustment" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:Status.B0 can0" )
  field( SCAN, "1 second" )
  field( ZNAM, "off" )
  field( ONAM, "on" )
  field( ZSV,  "NO_ALARM" )
  field( OSV,  "NO_ALARM" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:isAdjustment" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:isAdjustment" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:isAdjustment" )


record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:Status:isLiveInsertion" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:Status.B2 can0" )
  field( SCAN, "1 second" )
  field( ZNAM, "off" )
  field( ONAM, "on" )
  field( ZSV,  "NO_ALARM" )
  field( OSV,  "NO_ALARM" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:Status:isLiveInsertion" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:Status:isLiveInsertion" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:Status:isLiveInsertion" )

record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:needService" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:Status.B4 can0" )
  field( SCAN, "1 second" )
  field( ZNAM, "ok" )
  field( ONAM, "Hardware failure detected" )
  field( ZSV,  "NO_ALARM" )
  field( OSV,  "MAJOR" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:needService" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:needService" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:needService" )


record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:isInputError" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:Status.B6 CP can0" )
  field( SCAN, "1 second" )
  field( ZNAM, "ok" )
  field( ONAM, "Error" )
  field( ZSV,  "NO_ALARM" )
  field( OSV,  "MINOR" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:isInputError" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:isInputError" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:isInputError" )


record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:isNoSumError" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:Status.B8 CP can0" )
  field( SCAN, "1 second" )
  field( ZNAM, "Error" )
  field( ONAM, "ok" )
  field( ZSV,  "MAJOR" )
  field( OSV,  "NO_ALARM" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:isNoSumError" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:isNoSumError" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:isNoSumError" )


record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:isNoRamp" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:Status.B9 CP can0" )
  field( SCAN, "1 second" )
  field( ZNAM, "channel is ramping" )
  field( ONAM, "all channels stable" )
  field( ZSV,  "NO_ALARM" )
  field( OSV,  "NO_ALARM" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:isNoRamp" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:isNoRamp" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:isNoRamp" )


record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:isSafetyLoopGood" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:Status.BA CP can0" )
  field( SCAN, "1 second" )
  field( ZNAM, "broken" )
  field( ONAM, "closed" )
  field( ZSV,  "MAJOR" )
  field( OSV,  "NO_ALARM" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:isSafetyLoopGood" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:isSafetyLoopGood" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:isSafetyLoopGood" )


record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:isEventActive" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:Status.BB CP can0" )
  field( SCAN, "1 second" )
  field( ZNAM, "no active Event" )
  field( ONAM, "any event active" )
  field( ZSV,  "NO_ALARM" )
  field( OSV,  "NO_ALARM" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:isEventActive" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:isEventActive" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:isEventActive" )


record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:isModuleGood" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:Status.BC CP can0" )
  field( SCAN, "1 second" )
  field( ZNAM, "failure" )
  field( ONAM, "ok" )
  field( ZSV,  "MAJOR" )
  field( OSV,  "NO_ALARM" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:isModuleGood" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:isModuleGood" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:isModuleGood" )


record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:isSuppliesGood" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:Status.BD CP can0" )
  field( SCAN, "1 second" )
  field( ZNAM, "Out of Range" )
  field( ONAM, "ok" )
  field( ZSV,  "MAJOR" )
  field( OSV,  "NO_ALARM" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:isSuppliesGood" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:isSuppliesGood" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:isSuppliesGood" )


record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:isTemperatureGood" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:Status.BE CP can0" )
  field( SCAN, "1 second" )
  field( ZNAM, "above 55 degC" )
  field( ONAM, "within range" )
  field( ZSV,  "MAJOR" )
  field( OSV,  "NO_ALARM" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:isTemperatureGood" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:isTemperatureGood" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:isTemperatureGood" )


record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:isKillEnable" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:Status.BF can0" )
  field( SCAN, "1 second" )
  field( ZNAM, "disabled" )
  field( ONAM, "enabled" )
  field( ZSV,  "NO_ALARM" )
  field( OSV,  "NO_ALARM" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:isKillEnable" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:isKillEnable" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:isKillEnable" )


###########################################
# ### Decoding of Module Event Status ### #
###########################################
record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:EventLiveInsertion" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:EventStatus.B2 CP can0" )
  field( ZNAM, "off" )
  field( ONAM, "on" )
  field( ZSV,  "NO_ALARM" )
  field( OSV,  "NO_ALARM" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:EventLiveInsertion" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:EventLiveInsertion" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:EventLiveInsertion" )


record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:EventService" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:EventStatus.B4 CP can0" )
  field( ZNAM, "-" )
  field( ONAM, "Hardware failure detected" )
  field( ZSV,  "NO_ALARM" )
  field( OSV,  "MAJOR" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:EventService" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:EventService" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:EventService" )


record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:EventInputError" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:EventStatus.B6 CP can0" )
  field( ZNAM, "-" )
  field( ONAM, "Input Error in connection" )
  field( ZSV,  "NO_ALARM" )
  field( OSV,  "MAJOR" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:EventInputError" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:EventInputError" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:EventInputError" )


record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:EventSafetyLoopNotGood" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:EventStatus.BA CP can0" )
  field( ZNAM, "-" )
  field( ONAM, "Safety loop open" )
  field( ZSV,  "NO_ALARM" )
  field( OSV,  "MAJOR" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:EventSafetyLoopNotGood" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:EventSafetyLoopNotGood" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:EventSafetyLoopNotGood" )


record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:EventSuppliesNotGood" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:EventStatus.BD CP can0" )
  field( ZNAM, "-" )
  field( ONAM, "Supply is not good" )
  field( ZSV,  "NO_ALARM" )
  field( OSV,  "MAJOR" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:EventSuppliesNotGood" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:EventSuppliesNotGood" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:EventSuppliesNotGood" )


record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:EventTemperatureNotGood" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:EventStatus.BD CP can0" )
  field( ZNAM, "-" )
  field( ONAM, "Temperature above 55 degC" )
  field( ZSV,  "NO_ALARM" )
  field( OSV,  "MAJOR" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:EventTemperatureNotGood" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:EventTemperatureNotGood" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:EventTemperatureNotGood" )




###########################################################################
###################      Group Behaviour         ##########################
###########################################################################

record( mbboDirect, "${DEV}:${CAN_LINE}:${MODULE_ID}:GroupSelection") {
  #field( DESC, "Set this PV to activate Group behavior of this channel.")
  field( OUT, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSelection1_.VAL PP")
  field( FLNK, "${DEV}:${CAN_LINE}:${MODULE_ID}:GroupSelection2_ PP")
}

record( mbbiDirect, "${DEV}:${CAN_LINE}:${MODULE_ID}:GroupSelection2_") {  #right shift
  field( DTYP, "Raw Soft Channel" )
  field( NOBT, "8")
  field( SHFT, "8")
  field( INP, "${DEV}:${CAN_LINE}:${MODULE_ID}:GroupSelection.VAL") 
  field( FLNK, "${DEV}:${CAN_LINE}:${MODULE_ID}:GroupSelection3_ PP")
}

record( mbboDirect, "${DEV}:${CAN_LINE}:${MODULE_ID}:GroupSelection3_") {
  #field( DESC, "Set this PV to activate Group behavior of this channel.")
  field( DTYP, "Raw Soft Channel" )
  field( OMSL, "closed_loop")
  field( DOL, "${DEV}:${CAN_LINE}:${MODULE_ID}:GroupSelection2_.VAL")
  field( OUT, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSelection2_.VAL PP")
}

record( dfanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSelection1_")
{
  field( SELM, "All")
  field( OUTA, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSwitchOn1_.SELN")
  field( OUTB, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSetVoltage1_.SELN")
  field( OUTC, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSetCurrent1_.SELN")
  field( OUTD, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSetDelayedTripTime1_.SELN")
  field( OUTE, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSetVoltageBounds1_.SELN")
  field( OUTF, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSetCurrentBounds1_.SELN")
  field( OUTG, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSetEmergency1_.SELN")
}

record( dfanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSelection2_")
{
  field( SELM, "All")
  field( OUTA, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSwitchOn2_.SELN")
  field( OUTB, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSetVoltage2_.SELN")
  field( OUTC, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSetCurrent2_.SELN")
  field( OUTD, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSetDelayedTripTime2_.SELN")
  field( OUTE, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSetVoltageBounds2_.SELN")
  field( OUTF, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSetCurrentBounds2_.SELN")
  field( OUTG, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSetEmergency2_.SELN")
  field( FLNK, "${DEV}:${CAN_LINE}:${MODULE_ID}:StartBehaviour_ PP")
}

record(dfanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:StartBehaviour_")
{
   field( SELM, "Mask")
   field( OUTA, "${DEV}:${CAN_LINE}:${MODULE_ID}:GroupSetVoltage.VAL PP")
   field( OUTB, "${DEV}:${CAN_LINE}:${MODULE_ID}:GroupSwitchOn.VAL PP")
   field( OUTC, "${DEV}:${CAN_LINE}:${MODULE_ID}:GroupSetCurrent.VAL PP")
   field( OUTD, "${DEV}:${CAN_LINE}:${MODULE_ID}:GroupSetDelayedTripTime.VAL PP")
   field( OUTE, "${DEV}:${CAN_LINE}:${MODULE_ID}:GroupSetVoltageBounds.VAL PP")
   field( OUTF, "${DEV}:${CAN_LINE}:${MODULE_ID}:GroupSetCurrentBounds.VAL PP")
   field( OUTG, "${DEV}:${CAN_LINE}:${MODULE_ID}:GroupSetEmergency.VAL PP")
}


###################################################################################
################      Set Group Voltage in Group Behaviour      ###################
###################################################################################

record( dfanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:GroupSetVoltage" ) {
  field( SELM, "All")
  field( EGU, "V")
  field( OUTA, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSetVoltage1_.VAL PP" )
  field( OUTB, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSetVoltage2_.VAL PP" )
}

record( dfanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSetVoltage1_")
{
  field( SELM, "Mask" )
  field( OUTA, "${DEV}:${CAN_LINE}:${MODULE_ID}:0:VoltageSet.VAL PP" )
  field( OUTB, "${DEV}:${CAN_LINE}:${MODULE_ID}:1:VoltageSet.VAL PP" )
  field( OUTC, "${DEV}:${CAN_LINE}:${MODULE_ID}:2:VoltageSet.VAL PP" )
  field( OUTD, "${DEV}:${CAN_LINE}:${MODULE_ID}:3:VoltageSet.VAL PP" )
  field( OUTE, "${DEV}:${CAN_LINE}:${MODULE_ID}:4:VoltageSet.VAL PP" )
  field( OUTF, "${DEV}:${CAN_LINE}:${MODULE_ID}:5:VoltageSet.VAL PP" )
  field( OUTG, "${DEV}:${CAN_LINE}:${MODULE_ID}:6:VoltageSet.VAL PP" )
  field( OUTH, "${DEV}:${CAN_LINE}:${MODULE_ID}:7:VoltageSet.VAL PP" )
}

record( dfanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSetVoltage2_")
{
  field( SELM, "Mask" )
  field( OUTA, "${DEV}:${CAN_LINE}:${MODULE_ID}:8:VoltageSet.VAL PP" )
  field( OUTB, "${DEV}:${CAN_LINE}:${MODULE_ID}:9:VoltageSet.VAL PP" )
  field( OUTC, "${DEV}:${CAN_LINE}:${MODULE_ID}:10:VoltageSet.VAL PP" )
  field( OUTD, "${DEV}:${CAN_LINE}:${MODULE_ID}:11:VoltageSet.VAL PP" )
  field( OUTE, "${DEV}:${CAN_LINE}:${MODULE_ID}:12:VoltageSet.VAL PP" )
  field( OUTF, "${DEV}:${CAN_LINE}:${MODULE_ID}:13:VoltageSet.VAL PP" )
  field( OUTG, "${DEV}:${CAN_LINE}:${MODULE_ID}:14:VoltageSet.VAL PP" )
  field( OUTH, "${DEV}:${CAN_LINE}:${MODULE_ID}:15:VoltageSet.VAL PP" )
}


###################################################################################
################      Set Group Current in Group Behaviour      ###################
###################################################################################

record( dfanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:GroupSetCurrent" ) {
  field( SELM, "All")
  field( EGU, "A")
  field( OUTA, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSetCurrent1_.VAL PP" )
  field( OUTB, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSetCurrent2_.VAL PP" )
}

record( dfanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSetCurrent1_")
{
  field( SELM, "Mask" )
  field( OUTA, "${DEV}:${CAN_LINE}:${MODULE_ID}:0:CurrentSet.VAL PP" )
  field( OUTB, "${DEV}:${CAN_LINE}:${MODULE_ID}:1:CurrentSet.VAL PP" )
  field( OUTC, "${DEV}:${CAN_LINE}:${MODULE_ID}:2:CurrentSet.VAL PP" )
  field( OUTD, "${DEV}:${CAN_LINE}:${MODULE_ID}:3:CurrentSet.VAL PP" )
  field( OUTE, "${DEV}:${CAN_LINE}:${MODULE_ID}:4:CurrentSet.VAL PP" )
  field( OUTF, "${DEV}:${CAN_LINE}:${MODULE_ID}:5:CurrentSet.VAL PP" )
  field( OUTG, "${DEV}:${CAN_LINE}:${MODULE_ID}:6:CurrentSet.VAL PP" )
  field( OUTH, "${DEV}:${CAN_LINE}:${MODULE_ID}:7:CurrentSet.VAL PP" )
}

record( dfanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSetCurrent2_")
{
  field( SELM, "Mask" )
  field( OUTA, "${DEV}:${CAN_LINE}:${MODULE_ID}:8:CurrentSet.VAL PP" )
  field( OUTB, "${DEV}:${CAN_LINE}:${MODULE_ID}:9:CurrentSet.VAL PP" )
  field( OUTC, "${DEV}:${CAN_LINE}:${MODULE_ID}:10:CurrentSet.VAL PP" )
  field( OUTD, "${DEV}:${CAN_LINE}:${MODULE_ID}:11:CurrentSet.VAL PP" )
  field( OUTE, "${DEV}:${CAN_LINE}:${MODULE_ID}:12:CurrentSet.VAL PP" )
  field( OUTF, "${DEV}:${CAN_LINE}:${MODULE_ID}:13:CurrentSet.VAL PP" )
  field( OUTG, "${DEV}:${CAN_LINE}:${MODULE_ID}:14:CurrentSet.VAL PP" )
  field( OUTH, "${DEV}:${CAN_LINE}:${MODULE_ID}:15:CurrentSet.VAL PP" )
}


###################################################################################
############      Set Group DelayedtripTime in Group Behaviour      ###############
###################################################################################

record( dfanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:GroupSetDelayedTripTime" ) {
  field( SELM, "All")
  field( EGU, "A")
  field( OUTA, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSetDelayedTripTime1_.VAL PP" )
  field( OUTB, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSetDelayedTripTime2_.VAL PP" )
}

record( dfanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSetDelayedTripTime1_")
{
  field( SELM, "Mask" )
  field( OUTA, "${DEV}:${CAN_LINE}:${MODULE_ID}:0:DelayedTripTime.VAL PP" )
  field( OUTB, "${DEV}:${CAN_LINE}:${MODULE_ID}:1:DelayedTripTime.VAL PP" )
  field( OUTC, "${DEV}:${CAN_LINE}:${MODULE_ID}:2:DelayedTripTime.VAL PP" )
  field( OUTD, "${DEV}:${CAN_LINE}:${MODULE_ID}:3:DelayedTripTime.VAL PP" )
  field( OUTE, "${DEV}:${CAN_LINE}:${MODULE_ID}:4:DelayedTripTime.VAL PP" )
  field( OUTF, "${DEV}:${CAN_LINE}:${MODULE_ID}:5:DelayedTripTime.VAL PP" )
  field( OUTG, "${DEV}:${CAN_LINE}:${MODULE_ID}:6:DelayedTripTime.VAL PP" )
  field( OUTH, "${DEV}:${CAN_LINE}:${MODULE_ID}:7:DelayedTripTime.VAL PP" )
}

record( dfanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSetDelayedTripTime2_")
{
  field( SELM, "Mask" )
  field( OUTA, "${DEV}:${CAN_LINE}:${MODULE_ID}:8:DelayedTripTime.VAL PP" )
  field( OUTB, "${DEV}:${CAN_LINE}:${MODULE_ID}:9:DelayedTripTime.VAL PP" )
  field( OUTC, "${DEV}:${CAN_LINE}:${MODULE_ID}:10:DelayedTripTime.VAL PP" )
  field( OUTD, "${DEV}:${CAN_LINE}:${MODULE_ID}:11:DelayedTripTime.VAL PP" )
  field( OUTE, "${DEV}:${CAN_LINE}:${MODULE_ID}:12:DelayedTripTime.VAL PP" )
  field( OUTF, "${DEV}:${CAN_LINE}:${MODULE_ID}:13:DelayedTripTime.VAL PP" )
  field( OUTG, "${DEV}:${CAN_LINE}:${MODULE_ID}:14:DelayedTripTime.VAL PP" )
  field( OUTH, "${DEV}:${CAN_LINE}:${MODULE_ID}:15:DelayedTripTime.VAL PP" )
}


###################################################################################
################      Set Group SwitchOn in Group Behaviour      ##################
###################################################################################

record( bo, "${DEV}:${CAN_LINE}:${MODULE_ID}:GroupSwitchOn") {
  #field( DESC, "Set this PV to activate Group behavior of this channel.")
  field( OUT, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSwitchOn_.VAL PP" )
}

record( dfanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSwitchOn_")
{
  field( SELM, "All" )
  field( OUTA, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSwitchOn1_.VAL PP" )
  field( OUTB, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSwitchOn2_.VAL PP" )
}


record( dfanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSwitchOn1_")
{
  field( SELM, "Mask" )
  field( OUTA, "${DEV}:${CAN_LINE}:${MODULE_ID}:0:Control:setOn.VAL PP" )
  field( OUTB, "${DEV}:${CAN_LINE}:${MODULE_ID}:1:Control:setOn.VAL PP" )
  field( OUTC, "${DEV}:${CAN_LINE}:${MODULE_ID}:2:Control:setOn.VAL PP" )
  field( OUTD, "${DEV}:${CAN_LINE}:${MODULE_ID}:3:Control:setOn.VAL PP" )
  field( OUTE, "${DEV}:${CAN_LINE}:${MODULE_ID}:4:Control:setOn.VAL PP" )
  field( OUTF, "${DEV}:${CAN_LINE}:${MODULE_ID}:5:Control:setOn.VAL PP" )
  field( OUTG, "${DEV}:${CAN_LINE}:${MODULE_ID}:6:Control:setOn.VAL PP" )
  field( OUTH, "${DEV}:${CAN_LINE}:${MODULE_ID}:7:Control:setOn.VAL PP" )
}

record( dfanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSwitchOn2_")
{
  field( SELM, "Mask" )
  field( OUTA, "${DEV}:${CAN_LINE}:${MODULE_ID}:8:Control:setOn.VAL PP" )
  field( OUTB, "${DEV}:${CAN_LINE}:${MODULE_ID}:9:Control:setOn.VAL PP" )
  field( OUTC, "${DEV}:${CAN_LINE}:${MODULE_ID}:10:Control:setOn.VAL PP" )
  field( OUTD, "${DEV}:${CAN_LINE}:${MODULE_ID}:11:Control:setOn.VAL PP" )
  field( OUTE, "${DEV}:${CAN_LINE}:${MODULE_ID}:12:Control:setOn.VAL PP" )
  field( OUTF, "${DEV}:${CAN_LINE}:${MODULE_ID}:13:Control:setOn.VAL PP" )
  field( OUTG, "${DEV}:${CAN_LINE}:${MODULE_ID}:14:Control:setOn.VAL PP" )
  field( OUTH, "${DEV}:${CAN_LINE}:${MODULE_ID}:15:Control:setOn.VAL PP" )
}


###################################################################################
##############     Set Group VoltageBounds in Group Behaviour      ################
###################################################################################

record( dfanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:GroupSetVoltageBounds" ) {
  field( SELM, "All")
  field( EGU, "A")
  field( OUTA, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSetVoltageBounds1_.VAL PP" )
  field( OUTB, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSetVoltageBounds2_.VAL PP" )
}

record( dfanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSetVoltageBounds1_")
{
  field( SELM, "Mask" )
  field( OUTA, "${DEV}:${CAN_LINE}:${MODULE_ID}:0:VoltageBounds.VAL PP" )
  field( OUTB, "${DEV}:${CAN_LINE}:${MODULE_ID}:1:VoltageBounds.VAL PP" )
  field( OUTC, "${DEV}:${CAN_LINE}:${MODULE_ID}:2:VoltageBounds.VAL PP" )
  field( OUTD, "${DEV}:${CAN_LINE}:${MODULE_ID}:3:VoltageBounds.VAL PP" )
  field( OUTE, "${DEV}:${CAN_LINE}:${MODULE_ID}:4:VoltageBounds.VAL PP" )
  field( OUTF, "${DEV}:${CAN_LINE}:${MODULE_ID}:5:VoltageBounds.VAL PP" )
  field( OUTG, "${DEV}:${CAN_LINE}:${MODULE_ID}:6:VoltageBounds.VAL PP" )
  field( OUTH, "${DEV}:${CAN_LINE}:${MODULE_ID}:7:VoltageBounds.VAL PP" )
}

record( dfanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSetVoltageBounds2_")
{
  field( SELM, "Mask" )
  field( OUTA, "${DEV}:${CAN_LINE}:${MODULE_ID}:8:VoltageBounds.VAL PP" )
  field( OUTB, "${DEV}:${CAN_LINE}:${MODULE_ID}:9:VoltageBounds.VAL PP" )
  field( OUTC, "${DEV}:${CAN_LINE}:${MODULE_ID}:10:VoltageBounds.VAL PP" )
  field( OUTD, "${DEV}:${CAN_LINE}:${MODULE_ID}:11:VoltageBounds.VAL PP" )
  field( OUTE, "${DEV}:${CAN_LINE}:${MODULE_ID}:12:VoltageBounds.VAL PP" )
  field( OUTF, "${DEV}:${CAN_LINE}:${MODULE_ID}:13:VoltageBounds.VAL PP" )
  field( OUTG, "${DEV}:${CAN_LINE}:${MODULE_ID}:14:VoltageBounds.VAL PP" )
  field( OUTH, "${DEV}:${CAN_LINE}:${MODULE_ID}:15:VoltageBounds.VAL PP" )
}

###################################################################################
#############      Set Group CurrentBounds in Group Behaviour      ################
###################################################################################

record( dfanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:GroupSetCurrentBounds" ) {
  field( SELM, "All")
  field( OUTA, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSetCurrentBounds1_.VAL PP" )
  field( OUTB, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSetCurrentBounds2_.VAL PP" )
}

record( dfanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSetCurrentBounds1_")
{
  field( SELM, "Mask" )
  field( OUTA, "${DEV}:${CAN_LINE}:${MODULE_ID}:0:CurrentBounds.VAL PP" )
  field( OUTB, "${DEV}:${CAN_LINE}:${MODULE_ID}:1:CurrentBounds.VAL PP" )
  field( OUTC, "${DEV}:${CAN_LINE}:${MODULE_ID}:2:CurrentBounds.VAL PP" )
  field( OUTD, "${DEV}:${CAN_LINE}:${MODULE_ID}:3:CurrentBounds.VAL PP" )
  field( OUTE, "${DEV}:${CAN_LINE}:${MODULE_ID}:4:CurrentBounds.VAL PP" )
  field( OUTF, "${DEV}:${CAN_LINE}:${MODULE_ID}:5:CurrentBounds.VAL PP" )
  field( OUTG, "${DEV}:${CAN_LINE}:${MODULE_ID}:6:CurrentBounds.VAL PP" )
  field( OUTH, "${DEV}:${CAN_LINE}:${MODULE_ID}:7:CurrentBounds.VAL PP" )
}

record( dfanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSetCurrentBounds2_")
{
  field( SELM, "Mask" )
  field( OUTA, "${DEV}:${CAN_LINE}:${MODULE_ID}:8:CurrentBounds.VAL PP" )
  field( OUTB, "${DEV}:${CAN_LINE}:${MODULE_ID}:9:CurrentBounds.VAL PP" )
  field( OUTC, "${DEV}:${CAN_LINE}:${MODULE_ID}:10:CurrentBounds.VAL PP" )
  field( OUTD, "${DEV}:${CAN_LINE}:${MODULE_ID}:11:CurrentBounds.VAL PP" )
  field( OUTE, "${DEV}:${CAN_LINE}:${MODULE_ID}:12:CurrentBounds.VAL PP" )
  field( OUTF, "${DEV}:${CAN_LINE}:${MODULE_ID}:13:CurrentBounds.VAL PP" )
  field( OUTG, "${DEV}:${CAN_LINE}:${MODULE_ID}:14:CurrentBounds.VAL PP" )
  field( OUTH, "${DEV}:${CAN_LINE}:${MODULE_ID}:15:CurrentBounds.VAL PP" )
}


###################################################################################
################      Set Group setEmergency in Group Behaviour      ##############
###################################################################################

record( dfanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:GroupSetEmergency" ) {
  field( SELM, "All")
  field( EGU, "A")
  field( OUTA, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSetEmergency1_.VAL PP" )
  field( OUTB, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSetEmergency2_.VAL PP" )
}

record( dfanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSetEmergency1_")
{
  field( SELM, "Mask" )
  field( OUTA, "${DEV}:${CAN_LINE}:${MODULE_ID}:0:Control:setEmergency.VAL PP" )
  field( OUTB, "${DEV}:${CAN_LINE}:${MODULE_ID}:1:Control:setEmergency.VAL PP" )
  field( OUTC, "${DEV}:${CAN_LINE}:${MODULE_ID}:2:Control:setEmergency.VAL PP" )
  field( OUTD, "${DEV}:${CAN_LINE}:${MODULE_ID}:3:Control:setEmergency.VAL PP" )
  field( OUTE, "${DEV}:${CAN_LINE}:${MODULE_ID}:4:Control:setEmergency.VAL PP" )
  field( OUTF, "${DEV}:${CAN_LINE}:${MODULE_ID}:5:Control:setEmergency.VAL PP" )
  field( OUTG, "${DEV}:${CAN_LINE}:${MODULE_ID}:6:Control:setEmergency.VAL PP" )
  field( OUTH, "${DEV}:${CAN_LINE}:${MODULE_ID}:7:Control:setEmergency.VAL PP" )
}

record( dfanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanGroupSetEmergency2_")
{
  field( SELM, "Mask" )
  field( OUTA, "${DEV}:${CAN_LINE}:${MODULE_ID}:8:Control:setEmergency.VAL PP" )
  field( OUTB, "${DEV}:${CAN_LINE}:${MODULE_ID}:9:Control:setEmergency.VAL PP" )
  field( OUTC, "${DEV}:${CAN_LINE}:${MODULE_ID}:10:Control:setEmergency.VAL PP" )
  field( OUTD, "${DEV}:${CAN_LINE}:${MODULE_ID}:11:Control:setEmergency.VAL PP" )
  field( OUTE, "${DEV}:${CAN_LINE}:${MODULE_ID}:12:Control:setEmergency.VAL PP" )
  field( OUTF, "${DEV}:${CAN_LINE}:${MODULE_ID}:13:Control:setEmergency.VAL PP" )
  field( OUTG, "${DEV}:${CAN_LINE}:${MODULE_ID}:14:Control:setEmergency.VAL PP" )
  field( OUTH, "${DEV}:${CAN_LINE}:${MODULE_ID}:15:Control:setEmergency.VAL PP" )
}


#####################################################################################
#####################################################################################
#####################################################################################


#####################################################################################
##############          Group Bahaviuor of every Modul      #########################
#####################################################################################

record(mbboDirect, "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBGroupSelection"){
   field( OUT, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanVarGBGroupSelection_.VAL PP")
}

record(dfanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:FanVarGBGroupSelection_") {
  field( SELM, "All" )
  field( OUTA, "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBSeqVoltageSet_.DO1 NPP")
  field( OUTB, "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBSeqSwitchOn_.DO1 NPP")
  field( OUTC, "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBSeqCurrentSet_.DO1 NPP")
  field( OUTD, "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBSeqDelayedTripTimeSet_.DO1 NPP")
  field( OUTE, "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBSeqVoltageBoundsSet_.DO1 NPP")
  field( OUTF, "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBSeqCurrentBoundsSet_.DO1 NPP")
  field( OUTG, "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBSeqEmergencySet_.DO1 NPP")
}


###################################################################################
##############      Set variable Group Behaviour Voltage Set    ###################
###################################################################################

record(dfanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBVoltageSet") {
  field( SELM, "All" )
  field( EGU, "V")
  field( OUTA, "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBSeqVoltageSet_.DO3 PP")
}

record(seq, "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBSeqVoltageSet_") {
  field( SELM, "All" )
  field( DO1, "" )                  # Channels to execute (binary)
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:GroupSelection.VAL NPP" )
  field( DO2, "1" ) # 1 is equal to Voltage
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:StartBehaviour_.SELN NPP" )
  #field( DO3, "")                  # Value of Voltage
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:StartBehaviour_.VAL NPP")
  field( FLNK, "${DEV}:${CAN_LINE}:${MODULE_ID}:GroupSelection" )
}


###################################################################################
##############      Set variable Group Behaviour SwitchOn       ###################
###################################################################################

record(dfanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBSwitchOn") {        #USE THIS RECORD FOR CSS SWITCH ON/ Propably delete it
  field( SELM, "All" )
  field( OUTA, "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBSeqSwitchOn_.DO3 PP")
}


record(seq, "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBSeqSwitchOn_") {
  field( SELM, "All" )
  #field( DO1, "" )                  # Channels to execute (binary)
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:GroupSelection.VAL NPP" )
  field( DO2, "2" ) # 2 is equal to SwitchOn
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:StartBehaviour_.SELN NPP" )
  #field( DO3, "")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:StartBehaviour_.VAL NPP")
  field( FLNK, "${DEV}:${CAN_LINE}:${MODULE_ID}:GroupSelection" )
}


###################################################################################
##############      Set variable Group Behaviour Current Set    ###################
###################################################################################

record(dfanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBCurrentSet") {    #USE THIS RECORD FOR CSS AS VOLTAGE SET /Propably not necceccary
  field( SELM, "All" )
  field( EGU, "A")
  field( PREC, "3")
  field( OUTA, "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBSeqCurrentSet_.DO3 PP")
}

record(seq, "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBSeqCurrentSet_") {
  field( SELM, "All" )
  #field( DO1, "" )                  # Channels to execute (binary)
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:GroupSelection.VAL NPP" )
  field( DO2, "4" ) # 4 is equal to Current
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:StartBehaviour_.SELN NPP" )
  #field( DO3, "")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:StartBehaviour_.VAL NPP")
  field( FLNK, "${DEV}:${CAN_LINE}:${MODULE_ID}:GroupSelection" )
}


###################################################################################
##########      Set variable Group Behaviour DelayedTripTime Set    ###############
###################################################################################

record(dfanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBDelayedTripTimeSet") {    #USE THIS RECORD FOR CSS AS VOLTAGE SET /Propably not necceccary
  field( SELM, "All" )
  field( EGU, "s")
  field( OUTA, "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBSeqDelayedTripTimeSet_.DO3 PP")
}

record(seq, "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBSeqDelayedTripTimeSet_") {    #each "block" is one Module
  field( SELM, "All" )
  #field( DO1, "" )                  # Channels to execute (binary)
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:GroupSelection.VAL NPP" )
  field( DO2, "8" ) # 8 is equal to DelayedTripTime
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:StartBehaviour_.SELN NPP" )
  #field( DO3, "")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:StartBehaviour_.VAL NPP")
  field( FLNK, "${DEV}:${CAN_LINE}:${MODULE_ID}:GroupSelection" )
}


###################################################################################
##########      Set variable Group Behaviour VoltageBounds Set    #################
###################################################################################

record(dfanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBVoltageBoundsSet") {    #USE THIS RECORD FOR CSS AS VOLTAGE SET /Propably not necceccary
  field( SELM, "All" )
  field( OUTA, "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBSeqVoltageBoundsSet_.DO3 PP")
}

record(seq, "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBSeqVoltageBoundsSet_") {    #each "block" is one Module
  field( SELM, "All" )
  #field( DO1, "" )                  # Channels to execute (binary)
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:GroupSelection.VAL NPP" )
  field( DO2, "16" ) # 16 is equal to Emergency
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:StartBehaviour_.SELN NPP" )
  #field( DO3, "")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:StartBehaviour_.VAL NPP")
  field( FLNK, "${DEV}:${CAN_LINE}:${MODULE_ID}:GroupSelection" )
}


###################################################################################
##########      Set variable Group Behaviour CurrentBounds Set    #################
###################################################################################

record(dfanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBCurrentBoundsSet") {    #USE THIS RECORD FOR CSS AS VOLTAGE SET /Propably not necceccary
  field( SELM, "All" )
  field( PREC, "3")
  field( OUTA, "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBSeqCurrentBoundsSet_.DO3 PP")
}

record(seq, "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBSeqCurrentBoundsSet_") {    #each "block" is one Module
  field( SELM, "All" )
  #field( DO1, "" )                  # Channels to execute (binary)
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:GroupSelection.VAL NPP" )
  field( DO2, "32" ) # 32 is equal to Emergency
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:StartBehaviour_.SELN NPP" )
  #field( DO3, "")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:StartBehaviour_.VAL NPP")
  field( FLNK, "${DEV}:${CAN_LINE}:${MODULE_ID}:GroupSelection" )
}


###################################################################################
##########         Set variable Group Behaviour EmergencySet      #################
###################################################################################

record(dfanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBEmergencySet") {    #USE THIS RECORD FOR CSS AS VOLTAGE SET /Propably not necceccary
  field( SELM, "All" )
  field( OUTA, "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBSeqEmergencySet_.DO3 PP")
}

record(seq, "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBSeqEmergencySet_") {    #each "block" is one Module
  field( SELM, "All" )
  #field( DO1, "" )                  # Channels to execute (binary)
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:GroupSelection.VAL NPP" )
  field( DO2, "64" ) # 64 is equal to Emergency
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:StartBehaviour_.SELN NPP" )
  #field( DO3, "")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:StartBehaviour_.VAL NPP")
  field( FLNK, "${DEV}:${CAN_LINE}:${MODULE_ID}:GroupSelection" )
}


###################################################################################
#################          SwicthOn All in one Module             #################
###################################################################################

record(dfanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBSwitchOnAll") {        #USE THIS RECORD FOR CSS SWITCH ON/ Propably delete it
  field( SELM, "All" )
  field( OUTA, "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBSeqSwitchOnAll_.DO3 PP")
}


record(seq, "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBSeqSwitchOnAll_") {    #each "block" is one Module
  field( SELM, "All" )
  field( DO1, "65535" )                  # Channels to execute (binary)
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:GroupSelection.VAL NPP" )
  field( DO2, "2" ) # 2 is equal to SwitchOn
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:StartBehaviour_.SELN NPP" )
  #field( DO3, "")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:StartBehaviour_.VAL NPP")
  field( FLNK, "${DEV}:${CAN_LINE}:${MODULE_ID}:GroupSelection" )
}


###################################################################################
#################          SwicthOn All in all Modules             ################
###################################################################################

record(dfanout, "${DEV}:${CAN_LINE}:SwitchOnAll") {
  field( SELM, "All" )
  field( OUTA, "${DEV}:${CAN_LINE}:0:VarGBSeqSwitchOnAll_.DO3 PP")
  field( OUTB, "${DEV}:${CAN_LINE}:1:VarGBSeqSwitchOnAll_.DO3 PP")
  field( OUTC, "${DEV}:${CAN_LINE}:2:VarGBSeqSwitchOnAll_.DO3 PP")
  field( OUTD, "${DEV}:${CAN_LINE}:3:VarGBSeqSwitchOnAll_.DO3 PP")
  field( OUTE, "${DEV}:${CAN_LINE}:4:VarGBSeqSwitchOnAll_.DO3 PP")
  field( OUTF, "${DEV}:${CAN_LINE}:5:VarGBSeqSwitchOnAll_.DO3 PP")
}

#####################################################################################
#####################################################################################
#####################################################################################


###############################
# ### Channel item values ### #
###############################

record( ao, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:VoltageSet" ) {
  field( DTYP, "isegHAL" )
  field( OUT,  "@${CAN_LINE}.${MODULE_ID}.${CHANNEL_ID}.VoltageSet can0" )
  field( EGU, "V")
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:VoltageSet" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:VoltageSet" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:VoltageSet" )


record( calcout, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Resistance" ) {
  field( SCAN, "1 second")
  field( EGU, "Ohm")
 # field( PREC, "3")
  field( INPA, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:VoltageMeasure" )
  field( INPB, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:CurrentMeasure_" )
  field( CALC, "B>0?(A>0?(A/B):0):0")
}


record( ao, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:CurrentSet" ) {
  field( DTYP, "isegHAL" )
  field( PREC, "3")
  field( OUT,  "@${CAN_LINE}.${MODULE_ID}.${CHANNEL_ID}.CurrentSet can0" )
  field( EGU, "A")
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:CurrentSet" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:CurrentSet" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:CurrentSet" )


record( ai, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:VoltageMeasure" ) {
  field( SCAN, "1 second")
  field( DTYP, "isegHAL" )
  field( PREC, "3")
  field( INP,  "@${CAN_LINE}.${MODULE_ID}.${CHANNEL_ID}.VoltageMeasure can0" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:VoltageMeasure" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:VoltageMeasure" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:VoltageMeasure" )


record( ai, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:CurrentMeasure_" ) {
  field( SCAN, "1 second")
  field( DTYP, "isegHAL" )
  field( PREC, "3")
  field( INP,  "@${CAN_LINE}.${MODULE_ID}.${CHANNEL_ID}.CurrentMeasure can0" )
  field( FLNK, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:CurrentMeasure1 MS" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:CurrentMeasure" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:CurrentMeasure_" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:CurrentMeasure" )


record( calc, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:CurrentMeasure1" ) {
  field( PREC, "3")
  field( EGU, "mA")
  field( INPA, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:CurrentMeasure_.VAL")
  field( CALC, "A*1000")
  field( FLNK, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Status" )
}


record( ao, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:VoltageBounds" ) {
  field( DTYP, "isegHAL" )
  field( OUT,  "@${CAN_LINE}.${MODULE_ID}.${CHANNEL_ID}.VoltageBounds can0" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:VoltageBounds" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:VoltageBounds" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:VoltageBounds" )


record( ao, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:CurrentBounds" ) {
  field( DTYP, "isegHAL" )
  field( PREC, "3")
  field( OUT,  "@${CAN_LINE}.${MODULE_ID}.${CHANNEL_ID}.CurrentBounds can0" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:CurrentBounds" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:CurrentBounds" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:CurrentBounds" )


record( ai, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:VoltageNominal" ) {
  field( SCAN, "1 second")
  field( DTYP, "isegHAL" )
  field( INP,  "@${CAN_LINE}.${MODULE_ID}.${CHANNEL_ID}.VoltageNominal can0" )
  field( FLNK, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:CurrentNominal" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:VoltageNominal" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:VoltageNominal" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:VoltageNominal" )


record( ai, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:CurrentNominal" ) {
  field( SCAN, "1 second")
  field( DTYP, "isegHAL" )
  field( PREC, "4")
  field( INP,  "@${CAN_LINE}.${MODULE_ID}.${CHANNEL_ID}.CurrentNominal can0" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:CurrentNominal" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:CurrentNominal" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:CurrentNominal" )


record( ai, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:TemperatureExternal" ) {
  field( SCAN, "1 second")
  field( DTYP, "isegHAL" )
  field( INP,  "@${CAN_LINE}.${MODULE_ID}.${CHANNEL_ID}.TemperatureExternal can0" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:TemperatureExternal" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:TemperatureExternal" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:TemperatureExternal" )


record( ao, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:VctParameter" ) {
  field( DTYP, "isegHAL" )
  field( OUT,  "@${CAN_LINE}.${MODULE_ID}.${CHANNEL_ID}.VctParameter can0" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:VctParameter" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:VctParameter" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:VctParameter" )


record( mbbiDirect, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Status" ) {
  field( DTYP, "isegHAL" )
  field( SCAN, "1 second")
  field( INP,  "@${CAN_LINE}.${MODULE_ID}.${CHANNEL_ID}.Status can0" )
  field( FLNK, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventStatus" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Status" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Status" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Status" )


record( bo, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Control:setOn" ) {
  field( DTYP, "isegHAL" )
  field( OUT,  "@${CAN_LINE}.${MODULE_ID}.${CHANNEL_ID}.Control:3 can0" )
  field( ZNAM, "Channel off" )
  field( ONAM, "Channel on" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Control:setOn" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Control:setOn" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Control:setOn" )


record( bo, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Control:setEmergency" ) {
  field( DTYP, "isegHAL" )
  field( OUT,  "@${CAN_LINE}.${MODULE_ID}.${CHANNEL_ID}.Control:5 can0" )
  field( ZNAM, "" )
  field( ONAM, "Set EMCY" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Control:setEmergency" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Control:setEmergency" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Control:setEmergency" )


record( mbbiDirect, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventStatus" ) {
  field( DTYP, "isegHAL" )
  field( INP,  "@${CAN_LINE}.${MODULE_ID}.${CHANNEL_ID}.EventStatus can0" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventStatus" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventStatus" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventStatus" )


record( longout, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventMask" ) {
  field( DTYP, "isegHAL" )
  field( OUT,  "@${CAN_LINE}.${MODULE_ID}.${CHANNEL_ID}.EventMask can0" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventMask" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventMask" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventMask" )


record( longout, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:DelayedTripAction" ) {
  field( DTYP, "isegHAL" )
  field( OUT,  "@${CAN_LINE}.${MODULE_ID}.${CHANNEL_ID}.DelayedTripAction can0" )
  field( FLNK, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:DelayedTripTime" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:DelayedTripAction" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:DelayedTripAction" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:DelayedTripAction" )


record( ao, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:DelayedTripTime" ) {
  field( DTYP, "isegHAL" )
  field( OUT,  "@${CAN_LINE}.${MODULE_ID}.${CHANNEL_ID}.DelayedTripTime can0" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:DelayedTripTime" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:DelayedTripTime" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:DelayedTripTime" )


record( longout, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:ExternalInhibitAction" ) {
  field( DTYP, "isegHAL" )
  field( OUT,  "@${CAN_LINE}.${MODULE_ID}.${CHANNEL_ID}.ExternalInhibitAction can0" )
  field( TSE,  "-2" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:ExternalInhibitAction" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:ExternalInhibitAction" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:ExternalInhibitAction" )


######################################
# ### Decoding of Channel Status ### #
######################################
record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:InputError" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Status.B2 CP can0" )
  field( ZNAM, "OK" )
  field( ONAM, "Input Error" )
  field( ZSV,  "NO_ALARM" )
  field( OSV,  "MINOR" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:InputError" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:InputError" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:InputError" )


record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isOn" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Status.B3 CP can0" )
  field( ZNAM, "off" )
  field( ONAM, "on" )
  field( ZSV,  "NO_ALARM" )
  field( OSV,  "NO_ALARM" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isOn" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isOn" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isOn" )


record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isVoltageRamp" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Status.B4 CP can0" )
  field( ZNAM, "stable" )
  field( ONAM, "ramping" )
  field( ZSV,  "NO_ALARM" )
  field( OSV,  "NO_ALARM" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isVoltageRamp" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isVoltageRamp" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isVoltageRamp" )


record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isEmergency" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Status.B5 CP can0" )
  field( ZNAM, "-" )
  field( ONAM, "active" )
  field( ZSV,  "NO_ALARM" )
  field( OSV,  "MAJOR" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isEmergency" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isEmergency" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isEmergency" )


record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isCC" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Status.B6 CP can0" )
  field( ZNAM, "-" )
  field( ONAM, "active" )
  field( ZSV,  "NO_ALARM" )
  field( OSV,  "MAJOR" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isCC" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isCC" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isCC" )


record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isCV" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Status.B7 CP can0" )
  field( ZNAM, "-" )
  field( ONAM, "active" )
  field( ZSV,  "NO_ALARM" )
  field( OSV,  "NO_ALARM" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isCV" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isCV" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isCV" )


record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isCurrentBound" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Status.BA CP can0" )
  field( ZNAM, "OK" )
  field( ONAM, "Out of bounds" )
  field( ZSV,  "NO_ALARM" )
  field( OSV,  "MAJOR" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isCurrentBound" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isCurrentBound" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isCurrentBound" )


record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isVoltageBound" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Status.BB CP can0" )
  field( ZNAM, "OK" )
  field( ONAM, "Out of bounds" )
  field( ZSV,  "NO_ALARM" )
  field( OSV,  "MAJOR" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isVoltageBound" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isVoltageBound" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isVoltageBound" )


record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isEventInhibit" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Status.BC CP can0" )
  field( ZNAM, "no" )
  field( ONAM, "yes" )
  field( ZSV,  "NO_ALARM" )
  field( OSV,  "MAJOR" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isEventInhibit" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isEventInhibit" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isEventInhibit" )


record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isTrip" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Status.BD CP can0" )
  field( ZNAM, "OK" )
  field( ONAM, "tripped" )
  field( ZSV,  "NO_ALARM" )
  field( OSV,  "NO_ALARM" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isTrip" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isTrip" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isTrip" )


record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isCurrentLimit" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Status.BE CP can0" )
  field( ZNAM, "OK" )
  field( ONAM, "exceeded" )
  field( ZSV,  "NO_ALARM" )
  field( OSV,  "MAJOR" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isCurrentLimit" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isCurrentLimit" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isCurrentLimit" )


record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isVoltageLimit" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Status.BF CP can0" )
  field( ZNAM, "OK" )
  field( ONAM, "exceeded" )
  field( ZSV,  "NO_ALARM" )
  field( OSV,  "MAJOR" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isVoltageLimit" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isVoltageLimit" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:isVoltageLimit" )


############################################
# ### Decoding of Channel Event Status ### #
############################################
record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventInputError" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventStatus.B2 CP can0" )
  field( ZNAM, "--" )
  field( ONAM, "active" )
  field( ZSV,  "NO_ALARM" )
  field( OSV,  "MINOR" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventInputError" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventInputError" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventInputError" )


record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EOn2Off" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventStatus.B3 CP can0" )
  field( ZNAM, "--" )
  field( ONAM, "active" )
  field( ZSV,  "NO_ALARM" )
  field( OSV,  "MAJOR" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EOn2Off" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EOn2Off" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EOn2Off" )


record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventEndOfRamp" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventStatus.B4 CP can0" )
  field( ZNAM, "--" )
  field( ONAM, "active" )
  field( ZSV,  "NO_ALARM" )
  field( OSV,  "NO_ALARM" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventEndOfRamp" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventEndOfRamp" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventEndOfRamp" )


record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventEmergency" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventStatus.B5 CP can0" )
  field( ZNAM, "--" )
  field( ONAM, "active" )
  field( ZSV,  "NO_ALARM" )
  field( OSV,  "NO_ALARM" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventEmergency" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventEmergency" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventEmergency" )


record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:ECC" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventStatus.B6 CP can0" )
  field( ZNAM, "--" )
  field( ONAM, "active" )
  field( ZSV,  "NO_ALARM" )
  field( OSV,  "MAJOR" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:ECC" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:ECC" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:ECC" )


record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:ECV" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventStatus.B7 CP can0" )
  field( ZNAM, "--" )
  field( ONAM, "active" )
  field( ZSV,  "NO_ALARM" )
  field( OSV,  "NO_ALARM" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:ECV" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:ECV" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:ECV" )


record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:ECurrentBounds" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventStatus.BA CP can0" )
  field( ZNAM, "--" )
  field( ONAM, "active" )
  field( ZSV,  "NO_ALARM" )
  field( OSV,  "MAJOR" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:ECurrentBounds" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:ECurrentBounds" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:ECurrentBounds" )


record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EVVoltageBounds" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventStatus.BB CP can0" )
  field( ZNAM, "--" )
  field( ONAM, "active" )
  field( ZSV,  "NO_ALARM" )
  field( OSV,  "MAJOR" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EVVoltageBounds" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EVVoltageBounds" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EVVoltageBounds" )


record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventExternalInhibit" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventStatus.BC CP can0" )
  field( ZNAM, "--" )
  field( ONAM, "active" )
  field( ZSV,  "NO_ALARM" )
  field( OSV,  "MAJOR" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventExternalInhibit" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventExternalInhibit" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventExternalInhibit" )


record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventTrip" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventStatus.BD CP can0" )
  field( ZNAM, "--" )
  field( ONAM, "active" )
  field( ZSV,  "NO_ALARM" )
  field( OSV,  "MAJOR" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventTrip" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventTrip" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventTrip" )


record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventCurrentLimit" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventStatus.BE CP can0" )
  field( ZNAM, "--" )
  field( ONAM, "active" )
  field( ZSV,  "NO_ALARM" )
  field( OSV,  "MAJOR" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventCurrentLimit" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventCurrentLimit" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventCurrentLimit" )


record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventVoltageLimit" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventStatus.BF CP can0" )
  field( ZNAM, "--" )
  field( ONAM, "active" )
  field( ZSV,  "NO_ALARM" )
  field( OSV,  "MAJOR" )
  alias( "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventVoltageLimit" )
}
alias( "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventVoltageLimit" , "${ISEG}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:EventVoltageLimit" )



############################################################################################
############################################################################################
############################################################################################



###############################################################################
################ All Saving fields of a Module and VarGB ######################
###############################################################################

record( ai, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Save:VoltageSet" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:VoltageSet.VAL" )
}

record( ai, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Save:CurrentSet" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:CurrentSet.VAL" )
}

record( ai, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Save:VoltageBounds" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:VoltageBounds.VAL" )
}

record( ai, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Save:CurrentBounds" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:CurrentBounds.VAL" )
}

record( ai, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Save:DelayedTripTime" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:DelayedTripTime.VAL" )
}

#record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Control:Save:setEmergency" ) {
#  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Control:setEmergency" )
#  #field( ZNAM, "" )
#  #field( ONAM, "Set EMCY" )
#}

##########################################################################################


record( ai, "${DEV}:${CAN_LINE}:${MODULE_ID}:Save:VarGBVoltageSet" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBVoltageSet.VAL" )
}

record( ai, "${DEV}:${CAN_LINE}:${MODULE_ID}:Save:VarGBCurrentSet" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBCurrentSet.VAL" )
}

record( ai, "${DEV}:${CAN_LINE}:${MODULE_ID}:Save:VarGBVoltageBoundsSet" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBVoltageSet.VAL" )
}

record( ai, "${DEV}:${CAN_LINE}:${MODULE_ID}:Save:VarGBCurrentBoundsSet" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBCurrentSet.VAL" )
}

record( ai, "${DEV}:${CAN_LINE}:${MODULE_ID}:Save:VarGBDelayedTripTimeSet" ) {
  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBDelayedTripTimeSet.VAL" )
}

#record( bi, "${DEV}:${CAN_LINE}:${MODULE_ID}:Save:VarGBEmergencySet" ) {
#  field( INP,  "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBEmergencySet" )
#}

###############################################################################
################ All Load fields of a Module and VarGB ########################
###############################################################################

record( ao, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Load:VoltageSet" ) {
  field( OMSL, "closed_loop")
  field( DOL, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Save:VoltageSet.VAL")
  field( OUT,  "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:VoltageSet.VAL PP" )
}

record( ao, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Load:CurrentSet" ) {
  field( OMSL, "closed_loop")
  field( DOL, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Save:CurrentSet.VAL")
  field( OUT,  "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:CurrentSet.VAL PP" )
}

record( ao, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Load:VoltageBounds" ) {
  field( OMSL, "closed_loop")
  field( DOL, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Save:VoltageBounds.VAL")
  field( OUT,  "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:VoltageBounds.VAL PP" )
}

record( ao, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Load:CurrentBounds" ) {
  field( OMSL, "closed_loop")
  field( DOL, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Save:CurrentBounds.VAL")
  field( OUT,  "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:CurrentBounds.VAL PP" )
}

record( ao, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Load:DelayedTripTime" ) {
  field( OMSL, "closed_loop")
  field( DOL, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Save:DelayedTripTime.VAL")
  field( OUT,  "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:DelayedTripTime.VAL PP" )
}

#record( ao, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Control:Load:setEmergency" ) {
#  field( OMSL, "closed_loop")
#  field( DOL, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Control:Save:setEmergency.VAL")
#  field( OUT, "${DEV}:${CAN_LINE}:${MODULE_ID}:${CHANNEL_ID}:Control:setEmergency.VAL PP" )
#}

#####################################################################################
## NOT IN USE: THEY WOULD OVERWRITE THE NORMAL SINGLE CHANNEL SETTINGS ####


#record( ao, "${DEV}:${CAN_LINE}:${MODULE_ID}:Load:VarGBVoltageSet" ) {
#  field( OMSL, "closed_loop")
#  field( DOL, "${DEV}:${CAN_LINE}:${MODULE_ID}:Save:VarGBVoltageSet.VAL")
#  field( OUT, "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBVoltageSet.VAL NPP" )
#}

#record( ao, "${DEV}:${CAN_LINE}:${MODULE_ID}:Load:VarGBCurrentSet" ) {
#  field( OMSL, "closed_loop")
#  field( DOL, "${DEV}:${CAN_LINE}:${MODULE_ID}:Save:VarGBCurrentSet.VAL")
#  field( OUT,  "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBCurrentSet.VAL NPP" )
#}

#record( ao, "${DEV}:${CAN_LINE}:${MODULE_ID}:Load:VarGBVoltageBoundsSet" ) {
#  field( OMSL, "closed_loop")
#  field( DOL, "${DEV}:${CAN_LINE}:${MODULE_ID}:Save:VarGBVoltageBoundsSet.VAL")
#  field( OUT,  "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBVoltageSet.VAL NPP" )
#}

#record( ao, "${DEV}:${CAN_LINE}:${MODULE_ID}:Load:VarGBCurrentBoundsSet" ) {
#  field( OMSL, "closed_loop")
#  field( DOL, "${DEV}:${CAN_LINE}:${MODULE_ID}:Save:VarGBCurrentBoundsSet.VAL")
#  field( OUT,  "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBCurrentSet.VAL NPP" )
#}

#record( ao, "${DEV}:${CAN_LINE}:${MODULE_ID}:Load:VarGBDelayedTripTimeSet" ) {
#  field( OMSL, "closed_loop")
#  field( DOL, "${DEV}:${CAN_LINE}:${MODULE_ID}:Save:VarGBDelayedTripTimeSet.VAL")
#  field( OUT,  "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBDelayedTripTimeSet.VAL NPP" )
#}

#record( ao, "${DEV}:${CAN_LINE}:${MODULE_ID}:Load:VarGBEmergencySet" ) {
#  field( OMSL, "closed_loop")
#  field( DOL, "${DEV}:${CAN_LINE}:${MODULE_ID}:Save:VarGBEmergencySet.VAL")
#  field( OUT,  "${DEV}:${CAN_LINE}:${MODULE_ID}:VarGBEmergencySet.VAL NPP" )
#}


###############################################################################
################ Process all Saving fields of a Module ########################
###############################################################################

record( fanout, "${DEV}:${CAN_LINE}:SaveAll") {
  field( LNK1, "${DEV}:${CAN_LINE}:0:SaveAll_.PROC")
  field( LNK2, "${DEV}:${CAN_LINE}:1:SaveAll_.PROC")
  field( LNK3, "${DEV}:${CAN_LINE}:2:SaveAll_.PROC")
  field( LNK4, "${DEV}:${CAN_LINE}:3:SaveAll_.PROC")
  field( LNK5, "${DEV}:${CAN_LINE}:4:SaveAll_.PROC")
  field( LNK6, "${DEV}:${CAN_LINE}:SaveAll2_")
}

record( fanout, "${DEV}:${CAN_LINE}:SaveAll2_") {
  field( LNK1, "${DEV}:${CAN_LINE}:5:SaveAll_.PROC")		##Add more LNK field if more than 6 modules are plugged in
  field( LNK2, "${DEV}:${CAN_LINE}:Grouping:SaveAll")
}

record( fanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:SaveAll_") {
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:SaveVoltageSet_.PROC")
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:SaveCurrentSet_.PROC")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:SaveVoltageBounds_.PROC")
  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:SaveCurrentBounds_.PROC")
  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:SaveDelayedTripTime_.PROC")
  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:SaveAll2_")
}

record( fanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:SaveAll2_") {
#  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:SavesetEmergency_.PROC")
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:Save:VarGBVoltageSet.PROC")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:Save:VarGBCurrentSet.PROC")
  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:Save:VarGBVoltageBoundsSet.PROC")
  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:Save:VarGBCurrentBoundsSet.PROC")
  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:SaveAll3_")
}

record( fanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:SaveAll3_") {
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:Save:VarGBDelayedTripTimeSet.PROC")
# field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:Save:VarGBEmergencySet.PROC")
}


###########################################################################
######### Process all Saves for Voltage Set in one Module #################
###########################################################################

record( fanout,"${DEV}:${CAN_LINE}:${MODULE_ID}:SaveVoltageSet_") {
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:0:Save:VoltageSet.PROC")
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:1:Save:VoltageSet.PROC")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:2:Save:VoltageSet.PROC")
  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:3:Save:VoltageSet.PROC")
  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:4:Save:VoltageSet.PROC")
  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:SaveVoltageSet2_")
}

record( fanout,"${DEV}:${CAN_LINE}:${MODULE_ID}:SaveVoltageSet2_") {
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:5:Save:VoltageSet.PROC")
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:6:Save:VoltageSet.PROC")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:7:Save:VoltageSet.PROC")
  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:8:Save:VoltageSet.PROC")
  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:9:Save:VoltageSet.PROC")
  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:SaveVoltageSet3_")
}

record( fanout,"${DEV}:${CAN_LINE}:${MODULE_ID}:SaveVoltageSet3_") {
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:10:Save:VoltageSet.PROC")
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:11:Save:VoltageSet.PROC")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:12:Save:VoltageSet.PROC")
  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:13:Save:VoltageSet.PROC")
  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:14:Save:VoltageSet.PROC")
  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:15:Save:VoltageSet.PROC")
}

#########################################################################
####### Process all Saves for Current Set in one Module #################
#########################################################################

record( fanout,"${DEV}:${CAN_LINE}:${MODULE_ID}:SaveCurrentSet_") {
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:0:Save:CurrentSet.PROC")
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:1:Save:CurrentSet.PROC")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:2:Save:CurrentSet.PROC")
  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:3:Save:CurrentSet.PROC")
  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:4:Save:CurrentSet.PROC")
  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:SaveCurrentSet2_")
}

record( fanout,"${DEV}:${CAN_LINE}:${MODULE_ID}:SaveCurrentSet2_") {
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:5:Save:CurrentSet.PROC")
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:6:Save:CurrentSet.PROC")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:7:Save:CurrentSet.PROC")
  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:8:Save:CurrentSet.PROC")
  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:9:Save:CurrentSet.PROC")
  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:SaveCurrentSet3_")
}

record( fanout,"${DEV}:${CAN_LINE}:${MODULE_ID}:SaveCurrentSet3_") {
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:10:Save:CurrentSet.PROC")
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:11:Save:CurrentSet.PROC")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:12:Save:CurrentSet.PROC")
  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:13:Save:CurrentSet.PROC")
  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:14:Save:CurrentSet.PROC")
  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:15:Save:CurrentSet.PROC")
}

###########################################################################
####### Process all Saves for VoltageBounds in one Module #################
###########################################################################

record( fanout,"${DEV}:${CAN_LINE}:${MODULE_ID}:SaveVoltageBounds_") {
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:0:Save:VoltageBounds.PROC")
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:1:Save:VoltageBounds.PROC")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:2:Save:VoltageBounds.PROC")
  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:3:Save:VoltageBounds.PROC")
  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:4:Save:VoltageBounds.PROC")
  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:SaveVoltageBounds2_")
}

record( fanout,"${DEV}:${CAN_LINE}:${MODULE_ID}:SaveVoltageBounds2_") {
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:5:Save:VoltageBounds.PROC")
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:6:Save:VoltageBounds.PROC")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:7:Save:VoltageBounds.PROC")
  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:8:Save:VoltageBounds.PROC")
  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:9:Save:VoltageBounds.PROC")
  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:SaveVoltageBounds3_")
}

record( fanout,"${DEV}:${CAN_LINE}:${MODULE_ID}:SaveVoltageBounds3_") {
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:10:Save:VoltageBounds.PROC")
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:11:Save:VoltageBounds.PROC")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:12:Save:VoltageBounds.PROC")
  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:13:Save:VoltageBounds.PROC")
  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:14:Save:VoltageBounds.PROC")
  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:15:Save:VoltageBounds.PROC")
}

###########################################################################
####### Process all Saves for CurrentBounds in one Module #################
###########################################################################

record( fanout,"${DEV}:${CAN_LINE}:${MODULE_ID}:SaveCurrentBounds_") {
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:0:Save:CurrentBounds.PROC")
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:1:Save:CurrentBounds.PROC")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:2:Save:CurrentBounds.PROC")
  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:3:Save:CurrentBounds.PROC")
  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:4:Save:CurrentBounds.PROC")
  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:SaveCurrentBounds2_")
}

record( fanout,"${DEV}:${CAN_LINE}:${MODULE_ID}:SaveCurrentBounds2_") {
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:5:Save:CurrentBounds.PROC")
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:6:Save:CurrentBounds.PROC")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:7:Save:CurrentBounds.PROC")
  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:8:Save:CurrentBounds.PROC")
  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:9:Save:CurrentBounds.PROC")
  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:SaveCurrentBounds3")
}

record( fanout,"${DEV}:${CAN_LINE}:${MODULE_ID}:SaveCurrentBounds3_") {
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:10:Save:CurrentBounds.PROC")
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:11:Save:CurrentBounds.PROC")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:12:Save:CurrentBounds.PROC")
  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:13:Save:CurrentBounds.PROC")
  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:14:Save:CurrentBounds.PROC")
  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:15:Save:CurrentBounds.PROC")
}

#############################################################################
####### Process all Saves for DelayedTripTime in one Module #################
#############################################################################

record( fanout,"${DEV}:${CAN_LINE}:${MODULE_ID}:SaveDelayedTripTime_") {
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:0:Save:DelayedTripTime.PROC")
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:1:Save:DelayedTripTime.PROC")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:2:Save:DelayedTripTime.PROC")
  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:3:Save:DelayedTripTime.PROC")
  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:4:Save:DelayedTripTime.PROC")
  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:SaveDelayedTripTime2_")
}

record( fanout,"${DEV}:${CAN_LINE}:${MODULE_ID}:SaveDelayedTripTime2_") {
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:5:Save:DelayedTripTime.PROC")
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:6:Save:DelayedTripTime.PROC")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:7:Save:DelayedTripTime.PROC")
  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:8:Save:DelayedTripTime.PROC")
  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:9:Save:DelayedTripTime.PROC")
  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:SaveDelayedTripTime3_")
}

record( fanout,"${DEV}:${CAN_LINE}:${MODULE_ID}:SaveDelayedTripTime3_") {
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:10:Save:DelayedTripTime.PROC")
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:11:Save:DelayedTripTime.PROC")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:12:Save:DelayedTripTime.PROC")
  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:13:Save:DelayedTripTime.PROC")
  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:14:Save:DelayedTripTime.PROC")
  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:15:Save:DelayedTripTime.PROC")
}

###########################################################################
########## Process all Saves for SetEmergency in one Module ###############
###########################################################################

#record( fanout,"${DEV}:${CAN_LINE}:${MODULE_ID}:SavesetEmergency_") {
#  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:0:Save:setEmergency.PROC")
#  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:1:Save:setEmergency.PROC")
#  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:2:Save:setEmergency.PROC")
#  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:3:Save:setEmergency.PROC")
#  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:4:Save:setEmergency.PROC")
#  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:SavesetEmergency2_")
#}

#record( fanout,"${DEV}:${CAN_LINE}:${MODULE_ID}:SavesetEmergency2_") {
#  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:5:Save:setEmergency.PROC")
#  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:6:Save:setEmergency.PROC")
#  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:7:Save:setEmergency.PROC")
#  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:8:Save:setEmergency.PROC")
#  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:9:Save:setEmergency.PROC")
#  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:SavesetEmergency3_")
#}

#record( fanout,"${DEV}:${CAN_LINE}:${MODULE_ID}:SavesetEmergency3_") {
#  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:10:Save:setEmergency.PROC")
#  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:11:Save:setEmergency.PROC")
#  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:12:Save:setEmergency.PROC")
#  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:13:Save:setEmergency.PROC")
#  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:14:Save:setEmergency.PROC")
#  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:15:Save:setEmergency.PROC")
#}


###############################################################################
###############################################################################

###############################################################################
################ Process all Loading fields of a Module #######################
###############################################################################

record( fanout, "${DEV}:${CAN_LINE}:LoadAll") {
  field( LNK1, "${DEV}:${CAN_LINE}:0:LoadAll_.PROC")
  field( LNK2, "${DEV}:${CAN_LINE}:1:LoadAll_.PROC")
  field( LNK3, "${DEV}:${CAN_LINE}:2:LoadAll_.PROC")
  field( LNK4, "${DEV}:${CAN_LINE}:3:LoadAll_.PROC")
  field( LNK5, "${DEV}:${CAN_LINE}:4:LoadAll_.PROC")
  field( LNK6, "${DEV}:${CAN_LINE}:LoadAll2_")
}

record( fanout, "${DEV}:${CAN_LINE}:LoadAll2_") {
  field( LNK1, "${DEV}:${CAN_LINE}:5:LoadAll_.PROC")      ## Add more LNK field if more than 6 modules are plugged in 
  #field( LNK2, "${DEV}:${CAN_LINE}:Grouping:LoadAll")
}

record( fanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:LoadAll_") {
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:LoadVoltageSet_.PROC")
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:LoadCurrentSet_.PROC")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:LoadVoltageBounds_.PROC")
  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:LoadCurrentBounds_.PROC")
  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:LoadDelayedTripTime_.PROC")
  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:LoadAll2_")
}

record( fanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:LoadAll2_") {
#  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:LoadsetEmergency_.PROC")
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:Load:VarGBVoltageSet.PROC")
#  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:Load:VarGBCurrentSet.PROC")
#  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:Load:VarGBVoltageBoundsSet.PROC")
#  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:Load:VarGBCurrentBoundsSet.PROC")
#  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:LoadAll3_")
}

#record( fanout, "${DEV}:${CAN_LINE}:${MODULE_ID}:LoadAll3_") {
#  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:Load:VarGBDelayedTripTimeSet.PROC")
#  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:Load:VarGBEmergencySet.PROC")
#}


###########################################################################
######### Process all Loads for Voltage Set in one Module #################
###########################################################################

record( fanout,"${DEV}:${CAN_LINE}:${MODULE_ID}:LoadVoltageSet_") {
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:0:Load:VoltageSet.PROC")
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:1:Load:VoltageSet.PROC")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:2:Load:VoltageSet.PROC")
  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:3:Load:VoltageSet.PROC")
  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:4:Load:VoltageSet.PROC")
  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:LoadVoltageSet2_")
}

record( fanout,"${DEV}:${CAN_LINE}:${MODULE_ID}:LoadVoltageSet2_") {
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:5:Load:VoltageSet.PROC")
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:6:Load:VoltageSet.PROC")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:7:Load:VoltageSet.PROC")
  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:8:Load:VoltageSet.PROC")
  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:9:Load:VoltageSet.PROC")
  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:LoadVoltageSet3_")
}

record( fanout,"${DEV}:${CAN_LINE}:${MODULE_ID}:LoadVoltageSet3_") {
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:10:Load:VoltageSet.PROC")
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:11:Load:VoltageSet.PROC")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:12:Load:VoltageSet.PROC")
  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:13:Load:VoltageSet.PROC")
  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:14:Load:VoltageSet.PROC")
  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:15:Load:VoltageSet.PROC")
}


###########################################################################
######### Process all Loads for Current Set in one Module #################
###########################################################################

record( fanout,"${DEV}:${CAN_LINE}:${MODULE_ID}:LoadCurrentSet_") {
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:0:Load:CurrentSet.PROC")
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:1:Load:CurrentSet.PROC")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:2:Load:CurrentSet.PROC")
  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:3:Load:CurrentSet.PROC")
  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:4:Load:CurrentSet.PROC")
  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:LoadCurrentSet2_")
}

record( fanout,"${DEV}:${CAN_LINE}:${MODULE_ID}:LoadCurrentSet2_") {
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:5:Load:CurrentSet.PROC")
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:6:Load:CurrentSet.PROC")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:7:Load:CurrentSet.PROC")
  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:8:Load:CurrentSet.PROC")
  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:9:Load:CurrentSet.PROC")
  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:LoadCurrentSet3_")
}

record( fanout,"${DEV}:${CAN_LINE}:${MODULE_ID}:LoadCurrentSet3_") {
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:10:Load:CurrentSet.PROC")
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:11:Load:CurrentSet.PROC")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:12:Load:CurrentSet.PROC")
  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:13:Load:CurrentSet.PROC")
  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:14:Load:CurrentSet.PROC")
  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:15:Load:CurrentSet.PROC")
}


###########################################################################
######### Process all Loads for VoltageBounds in one Module ###############
###########################################################################

record( fanout,"${DEV}:${CAN_LINE}:${MODULE_ID}:LoadVoltageBounds_") {
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:0:Load:VoltageBounds.PROC")
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:1:Load:VoltageBounds.PROC")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:2:Load:VoltageBounds.PROC")
  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:3:Load:VoltageBounds.PROC")
  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:4:Load:VoltageBounds.PROC")
  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:LoadVoltageBounds2_")
}

record( fanout,"${DEV}:${CAN_LINE}:${MODULE_ID}:LoadVoltageBounds2") {
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:5:Load:VoltageBounds.PROC")
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:6:Load:VoltageBounds.PROC")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:7:Load:VoltageBounds.PROC")
  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:8:Load:VoltageBounds.PROC")
  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:9:Load:VoltageBounds.PROC")
  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:LoadVoltageBounds3_")
}

record( fanout,"${DEV}:${CAN_LINE}:${MODULE_ID}:LoadVoltageBounds3_") {
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:10:Load:VoltageBounds.PROC")
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:11:Load:VoltageBounds.PROC")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:12:Load:VoltageBounds.PROC")
  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:13:Load:VoltageBounds.PROC")
  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:14:Load:VoltageBounds.PROC")
  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:15:Load:VoltageBounds.PROC")
}

###########################################################################
######### Process all Loads for CurrentBounds in one Module ###############
###########################################################################

record( fanout,"${DEV}:${CAN_LINE}:${MODULE_ID}:LoadCurrentBounds_") {
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:0:Load:CurrentBounds.PROC")
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:1:Load:CurrentBounds.PROC")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:2:Load:CurrentBounds.PROC")
  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:3:Load:CurrentBounds.PROC")
  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:4:Load:CurrentBounds.PROC")
  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:LoadCurrentBounds2_")
}

record( fanout,"${DEV}:${CAN_LINE}:${MODULE_ID}:LoadCurrentBounds2_") {
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:5:Load:CurrentBounds.PROC")
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:6:Load:CurrentBounds.PROC")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:7:Load:CurrentBounds.PROC")
  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:8:Load:CurrentBounds.PROC")
  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:9:Load:CurrentBounds.PROC")
  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:LoadCurrentBounds3_")
}

record( fanout,"${DEV}:${CAN_LINE}:${MODULE_ID}:LoadCurrentBounds3_") {
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:10:Load:CurrentBounds.PROC")
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:11:Load:CurrentBounds.PROC")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:12:Load:CurrentBounds.PROC")
  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:13:Load:CurrentBounds.PROC")
  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:14:Load:CurrentBounds.PROC")
  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:15:Load:CurrentBounds.PROC")
}


###########################################################################
######### Process all Loads for DelayedTripTime in one Module #############
###########################################################################

record( fanout,"${DEV}:${CAN_LINE}:${MODULE_ID}:LoadDelayedTripTime_") {
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:0:Load:DelayedTripTime.PROC")
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:1:Load:DelayedTripTime.PROC")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:2:Load:DelayedTripTime.PROC")
  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:3:Load:DelayedTripTime.PROC")
  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:4:Load:DelayedTripTime.PROC")
  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:LoadDelayedTripTime2_")
}

record( fanout,"${DEV}:${CAN_LINE}:${MODULE_ID}:LoadDelayedTripTime2_") {
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:5:Load:DelayedTripTime.PROC")
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:6:Load:DelayedTripTime.PROC")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:7:Load:DelayedTripTime.PROC")
  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:8:Load:DelayedTripTime.PROC")
  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:9:Load:DelayedTripTime.PROC")
  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:LoadDelayedTripTime3_")
}

record( fanout,"${DEV}:${CAN_LINE}:${MODULE_ID}:LoadDelayedTripTime3_") {
  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:10:Load:DelayedTripTime.PROC")
  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:11:Load:DelayedTripTime.PROC")
  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:12:Load:DelayedTripTime.PROC")
  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:13:Load:DelayedTripTime.PROC")
  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:14:Load:DelayedTripTime.PROC")
  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:15:Load:DelayedTripTime.PROC")
}


###########################################################################
########### Process all Loads for setEmergency in one Module ##############
###########################################################################

#record( fanout,"${DEV}:${CAN_LINE}:${MODULE_ID}:LoadsetEmergency_") {
#  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:0:Load:setEmergency.PROC")
#  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:1:Load:setEmergency.PROC")
#  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:2:Load:setEmergency.PROC")
#  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:3:Load:setEmergency.PROC")
#  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:4:Load:setEmergency.PROC")
#  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:LoadsetEmergency2_")
#}

#record( fanout,"${DEV}:${CAN_LINE}:${MODULE_ID}:LoadsetEmergency2_") {
#  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:5:Load:setEmergency.PROC")
#  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:6:Load:setEmergency.PROC")
#  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:7:Load:setEmergency.PROC")
#  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:8:Load:setEmergency.PROC")
#  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:9:Load:setEmergency.PROC")
#  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:LoadsetEmergency3")
#}

#record( fanout,"${DEV}:${CAN_LINE}:${MODULE_ID}:LoadsetEmergency3_") {
#  field( LNK1, "${DEV}:${CAN_LINE}:${MODULE_ID}:10:Load:setEmergency.PROC")
#  field( LNK2, "${DEV}:${CAN_LINE}:${MODULE_ID}:11:Load:setEmergency.PROC")
#  field( LNK3, "${DEV}:${CAN_LINE}:${MODULE_ID}:12:Load:setEmergency.PROC")
#  field( LNK4, "${DEV}:${CAN_LINE}:${MODULE_ID}:13:Load:setEmergency.PROC")
#  field( LNK5, "${DEV}:${CAN_LINE}:${MODULE_ID}:14:Load:setEmergency.PROC")
#  field( LNK6, "${DEV}:${CAN_LINE}:${MODULE_ID}:15:Load:setEmergency.PROC")
#}




